var C=1,f=!1;if(!f)try{document&&(C=3,f=!0)}catch{}if(!f)try{Deno&&(C=0,f=!0)}catch{}if(!f)try{Bun&&(C=2,f=!0)}catch{}if(!f)try{process&&(C=1,f=!0)}catch{}var b=C;import j from"node:module";var T=j.createRequire(import.meta.url);function F(){switch(b){case 0:return o=>Deno.inspect(o,{colors:!0});case 1:{let{inspect:o}=T("node:util");return e=>o(e,{colors:!0})}case 2:return o=>globalThis.Bun.inspect(o,{colors:!0});case 3:return o=>inspect(o,{colors:!0});default:return o=>inspect(o,{colors:!0})}}var v=F();var Q=(o,e,t)=>{let s=[o,e,t];for(let g of s){let i=s[g];i>255?s[g]=255:i<1&&(s[g]=1)}return`\x1B[48;2;${s[0]};${s[1]};${s[2]}m`},n=(o,e,t)=>{let s=[o,e,t];for(let g of s){let i=s[g];i>255?s[g]=255:i<1&&(s[g]=1)}return`\x1B[38;2;${s[0]};${s[1]};${s[2]}m`},O={red:n(255,0,0),green:n(0,255,0),lime:n(128,255,128),blue:n(0,0,255),yellow:n(255,255,0),cyan:n(0,255,255),magenta:n(255,0,255),black:n(0,0,0),white:n(255,255,255),gray:n(128,128,128),maroon:n(128,0,0),olive:n(128,128,0),navy:n(0,0,128),purple:n(128,0,128),teal:n(0,128,128),silver:n(192,192,192),indigo:n(75,0,130),gold:n(255,215,0),pink:n(255,192,203),orange:n(255,165,0),brown:n(165,42,42),peach:n(255,218,185),lavender:n(230,230,250),coral:n(255,127,80),turquoise:n(64,224,208),salmon:n(250,128,114),olivebrab:n(107,142,35),slate:n(112,128,144),lsgreen:n(32,178,170),dorange:n(255,140,0),khaki:n(240,230,140),mvred:n(199,21,133),dsalmon:n(233,150,122),lpink:n(255,182,193),dgray:n(105,105,105),gainsboro:n(220,220,220),nred:n(255,45,0),ngreen:n(57,255,20),nblue:n(0,0,255),nyellow:n(255,255,51),ncyan:n(0,255,255),nmagenta:n(255,0,255),npink:n(255,20,147),norange:n(255,165,0),npurple:n(128,0,255),nturquoise:n(0,255,255),nviolet:n(238,130,238),ncoral:n(255,127,80)},E={inverse:"\x1B[7m",none:"none",reset:"\x1B[0m",bold:"\x1B[1m",def:"\x1B[49m",normal:"\x1B[22m",blink:"\x1B[5m",nblink:"\x1B[25m",hidden:"\x1B[8m",visible:"\x1B[28m",over:"\x1B[53m",nover:"\x1B[55m",dtext:"\x1B[2m",italic:"\x1B[3m",icolor:"\x1B[7m",ncolor:"\x1B[27m",strike:"\x1B[9m",nstrike:"\x1B[29m",under:"\x1B[4m",dunder:"\x1B[21m",nunder:"\x1B[24m",cunder:"\x1B[4:3m",dounder:"\x1B[4:4m",daunder:"\x1B[4:5m",runder:"\x1B[59m",...O};function L(o,e,t){let s=Object.assign(E,t),g=s[o];return g=="none"?e:g?g+e+s.reset:e}function $(o,e="<*>"){let[t,s]=e.split("*"),g=[],i=/\[([^\]]*)\]\.(\w+)(-b)?/g;return{text:o.replace(i,(r,a,p,M)=>{let u=M==="-b",d=a.replace(/^\[|\]$/g,"");g.push({key:p,value:d,bold:u});let m=a.startsWith("[")?"[":"",w=a.endsWith("]")?"]":"";return`${m}${t}${p}${s}${w}`}).trim(),frags:g}}function h(...o){return I({},"{{{{*}}}}",...o)}function I(o,e,...t){let s="",g="";return t.forEach(i=>{if(typeof i=="string"){let l=$(i,e);l.frags.forEach(r=>{let a=r.value;r.bold&&(a=L("bold",r.value,o)),Object.keys(E).includes(r.key)&&(a=L(r.key,a,o)),l.text=l.text.replace(`${e.split("*")[0]}${r.key}${e.split("*")[1]}`,a)}),s+=l.text}else s+=v(i)}),t.forEach(i=>{if(typeof i=="string"){let l=/\[([^\]]+)\]\.(\w+)(-b)?/g,r=i.replace(l,(d,m)=>`"${m}"`),a=/\x1B[[(?);]{0,2}(;?\d)*./g,p=r.replace(a,""),M=/"(\d{1,})".*?"(\d{1,})"/g,u=p.replace(M,(d,m,w)=>`"${m}"${w}"`);g+=u}else typeof i=="number"?g+=` ${i.toString()}`:typeof i=="boolean"?g+=` ${i.toString()}`:typeof i=="object"?g+=` "${JSON.stringify(i,null,2)}"`:g+=` "${i}"`}),[s,g]}var P=(r=>(r.year="year",r.month="month",r.day="day",r.hours="hours",r.minutes="minutes",r.seconds="seconds",r.milliseconds="milliseconds",r))(P||{});function se(o,e=!1){let t=o,s=Math.floor(t/86400),g=Math.floor(t/3600)%24,i=Math.floor(t/60)%60,l=Math.floor(t)%60,r=Math.floor(t%1*1e3);return e?`${s>0?s+"d ":""}${g>0?g+"h ":""}${i>0?i+"m ":""}${l?l+".":"0."}${r>0?r+"s":""}`:`${s>0?s+"d ":""}${g>0?g+"h ":""}${i>0?i+"m ":""}${l>0?l+"s ":"0s"}`}function k(o){let e=new Date,t={timestamp:Date.now(),year:String(e.getFullYear()),month:String(e.getMonth()+1).padStart(2,"0"),day:String(e.getDate()).padStart(2,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")};for(let s in P)if(Object.prototype.hasOwnProperty.call(P,s)){let g=s;o=o.replace(new RegExp(`{${P[g]}}`,"g"),t[P[g]])}return{format:o,timer:t}}function S(o){let e=()=>{};return{...o,identify:o.identify,defaults:o.defaults??{},onMessage:o.onMessage??e,onCreateInstance:o.onCreateInstance??e,onAddPlugin:o.onAddPlugin??e,onRemPlugin:o.onRemPlugin??e}}var N={format:"[{status}] {title} [{hours}:{minutes}:{seconds}].gray {message}",status:{trace:"ncoral",error:"nred",warn:"nyellow",info:"nblue",debug:"npurple"},console:!0,level:"info",color_fallback:"cyan",disable_colors:!1,title:"All",color:"cyan"},D={identify:"LoggingsConsole",defaults:N,onMessage(o,e,t){if(o.level=o.console_level?o.console_level:o.level,o.console&&e>=o.level){let s=h(o.format)[o.disable_colors?1:0];s=k(s).format,o.disable_colors?(s.includes("{title}")&&(s=s.replace(new RegExp("{title}","g"),o.title)),s.includes("{status}")&&(s=s.replace(new RegExp("{status}","g"),e)),s.includes("{message}")&&(s=s.replace(new RegExp("{message}","g"),h(...t)[1]))):(s.includes("{title}")&&(s=s.replace(new RegExp("{title}","g"),L(o.color,o.title))),s.includes("{status}")&&(s=s.replace(new RegExp("{status}","g"),L(o.status[e],L("bold",e)))),s.includes("{message}")&&(s=s.replace(new RegExp("{message}","g"),h(...t)[0]))),A(e,s)}}};function A(o,e){switch(b){case 0:{let s=new TextEncoder().encode(`${e}
`);["info","debug"].includes(o.toLowerCase())?Deno.stdout.write(s):Deno.stderr.write(s);break}case 1:{["info","debug"].includes(o.toLowerCase())?process.stdout.write(`${e}
`):process.stderr.write(`${e}
`);break}case 2:{["info","debug"].includes(o.toLowerCase())?Bun.write(Bun.stdout,`${e}
`):Bun.write(Bun.stderr,`${e}
`);break}case 3:{console[o.toLowerCase()](e);break}default:throw new Error("Unknown environment")}}import x from"node:path";import y from"node:fs";var q={register:!0,register_del:!0,register_limit:10,register_dir:"./logs",register_locale_file:"{register_dir}",register_filename:"{day}_{month}_{year}.{ext}",register_format:"[ {day}/{month}/{year}-{hours}:{minutes}:{seconds} ] [ _.{title}._ ] {message}"},_={identify:"LoggingsRegister",defaults:q,onMessage(o,e,t){if(o.level=o.register_level?o.register_level:o.level,o.register&&e>=o.level){let s=o.register_locale_file.replace(new RegExp("{register_dir}","g"),o.register_dir);s=s.replace(new RegExp("{title}","g"),o.title),s=s.replace(new RegExp("{status}","g"),e);let g=k(o.register_filename).format.replace(new RegExp("{status}","g"),e).replace(new RegExp("{ext}","g"),"log"),i=o.register_format;i=k(i).format,i.includes("{title}")&&(i=i.replace(new RegExp("{title}","g"),o.title)),i.includes("{status}")&&(i=i.replace(new RegExp("{status}","g"),e)),i.includes("{message}")&&(i=i.replace(new RegExp("{message}","g"),h(...t)[1]));let l=x.join(s,g),r=x.resolve(x.join(s));if(y.existsSync(r)||y.mkdirSync(r,{recursive:!0}),y.appendFileSync(l,i+`
`),o.register_del&&o.register_limit>0){let a=new RegExp(".log"),p=y.readdirSync(s).filter(u=>a.test(u)).sort((u,d)=>{let m=y.statSync(x.join(s,u)),w=y.statSync(x.join(s,d));return m.mtime.getTime()-w.mtime.getTime()});p.slice(0,p.length-o.register_limit).forEach(u=>{let d=x.join(s,u);y.unlinkSync(d)})}}}};var c=class o{static configs={};configs={};static plugins=[];plugins=[];static reset(){o.plugins.length=0}reset(){this.plugins.length=0}static add(...e){e.forEach(t=>{let s=S(t);s.defaults&&Object.assign(o.configs,s.defaults),o.plugins.forEach(g=>g.onAddPlugin(s)),o.plugins.push(s)})}add(...e){e.forEach(t=>{t.defaults&&Object.assign(this.configs,t.defaults),this.plugins.forEach(s=>s.onAddPlugin(t)),this.plugins.push(t)})}static get(e){return o.plugins.find(t=>t.identify===e)}get(e){return this.plugins.find(t=>t.identify===e)}static rem(e){o.plugins=o.plugins.filter(t=>{let s=t.identify===e;return s&&(o.plugins.forEach(g=>g.onRemPlugin(t)),t.defaults&&Object.keys(t.defaults).forEach(g=>delete o.configs[g])),!s})}rem(e){this.plugins=this.plugins.filter(t=>{let s=t.identify===e;return s&&(this.plugins.forEach(g=>g.onRemPlugin(t)),t.defaults&&Object.keys(t.defaults).forEach(g=>delete this.configs[g])),!s})}controller(e,t){this.plugins.forEach(s=>{s.onMessage({...o.configs,...this.configs},t,e)})}log(...e){this.controller(e,"info")}error(...e){this.controller(e,"error")}trace(...e){this.controller(e,"trace")}debug(...e){this.controller(e,"debug")}warn(...e){this.controller(e,"warn")}info(...e){this.controller(e,"info")}static controller(e,t){o.plugins.forEach(s=>{s.onMessage({...o.configs,...this.configs},t,e)})}static log(...e){o.controller(e,"info")}static error(...e){o.controller(e,"error")}static trace(...e){o.controller(e,"trace")}static debug(...e){o.controller(e,"debug")}static warn(...e){o.controller(e,"warn")}static info(...e){o.controller(e,"info")}};switch(b){case 0:case 1:case 2:c.add(D,_);break;case 3:c.add(D)}var B=class o extends c{static useConsole(e){switch(b){case 3:throw new Error("Brownser not have support for useConsole function!");case 0:{globalThis.loggings=e,globalThis.console={...globalThis.console,log:(...t)=>globalThis.loggings.log(...t),error:(...t)=>globalThis.loggings.error(...t),warn:(...t)=>globalThis.loggings.warn(...t),info:(...t)=>globalThis.loggings.info(...t),debug:(...t)=>globalThis.loggings.debug(...t)};break}case 2:case 1:{global.loggings=e,global.console={...global.console,log:(...t)=>global.loggings.log(...t),error:(...t)=>global.loggings.error(...t),warn:(...t)=>global.loggings.warn(...t),info:(...t)=>global.loggings.info(...t),debug:(...t)=>global.loggings.debug(...t)};break}}}constructor(e,t,s){super(),this.configs=o.getDefaults(),e&&(this.configs.title=e),t&&(this.configs.color=t),this.configs={...this.configs,...s},this.plugins=c.plugins,c.plugins.forEach(g=>g.onCreateInstance(this))}config(e){this.configs={...this.configs,...e}}static config(e){c.configs={...c.configs,...e}}static getDefaults(){return{...c.configs,...this.configs}}};export{Q as Bgc,L as Colors,h as Formatter,$ as Fragmenter,B as Loggings,E as LoggingsColors,D as LoggingsConsole,S as LoggingsPlugin,_ as LoggingsRegister,n as Rgb,I as StaticFormatter,k as Timer,P as Timers,se as Uptimer,N as console_defaults,v as inspector,q as register_defaults};
